(()=>{"use strict";const e="task.lists",t="task.selectedListId",d="task.selectedTaskId";let n=JSON.parse(localStorage.getItem(e))||[],r=localStorage.getItem(t),o=localStorage.getItem(d);const a=document.querySelector("#content");a.classList.add("bg-gray-200","h-screen"),a.appendChild((()=>{const e=document.createElement("div");e.classList.add("header-cont","pt-5");const t=document.createElement("h1");return t.classList.add("header-title","text-center","text-blue-700","text-4xl","font-bold"),t.innerHTML="Your To-Do Lists",e.appendChild(t),e})()),a.appendChild((()=>{const e=document.createElement("div");e.classList.add("body-cont","flex","w-4/6","mx-auto","pt-19","mt-12","shadow-2xl","bg-blue-200","rounded-lg","justify-around","border-r-2","border-blue-900");const t=document.createElement("div");t.classList.add("proj-cont","border-r-2","border-blue-300","pr-5","w-1/4","p-5");const d=document.createElement("div");d.classList.add("pro-title-cont");const n=document.createElement("h2");n.classList.add("pro-title","border-b-2","w-max","border-gray-500"),n.innerHTML="MY PROJECTS";const r=document.createElement("div");r.classList.add("list-cont");const o=document.createElement("ul");o.classList.add("all-projects","text-red-600");const a=document.createElement("form");a.setAttribute("action",""),a.classList.add("pro-form","flex","flex-col");const s=document.createElement("input");s.classList.add("pro-input"),s.setAttribute("type","text"),s.setAttribute("placeholder","Add a New Project");const c=document.createElement("button");c.setAttribute("type","button"),c.classList.add("pro-btn","bg-green-500","hover:bg-green-700","px-2","py-1","rounded-md","text-white"),c.innerHTML="New Project";const l=document.createElement("button");l.setAttribute("type","button"),l.classList.add("btn-delet","bg-red-500","hover:bg-red-700","px-2","py-1","rounded-md","text-white","mt-3"),l.innerHTML="Delete project";const i=document.createElement("div");i.classList.add("task-cont","w-3/4","p-5");const p=document.createElement("div");p.classList.add("task-title-cont","flex","justify-around","mb-3","border-b-2","border-gray-500");const u=document.createElement("h2");u.classList.add("task-title","text-red-600"),u.innerHTML="My tasks";const m=document.createElement("p");m.classList.add("tasks-count"),m.innerHTML="1 task remaining";const y=document.createElement("div");y.classList.add("tasks-body");const h=document.createElement("div");h.classList.add("task-conteiner","text-blue-800");const b=document.createElement("div");b.classList.add("new-task-creator");const L=document.createElement("form");L.classList.add("task-form","hidden","w-min");const k=document.createElement("input");k.type="text",k.classList.add("task-input","border","border-gray-300","rounded-md","my-1"),k.placeholder="Add title";const E=document.createElement("input");E.type="text",E.classList.add("task-description","border","border-gray-300","rounded-md","my-1"),E.placeholder="Add description";const g=document.createElement("input");g.type="date",g.classList.add("task-duedate","border","border-gray-300","rounded-md","my-1"),g.placeholder="Add duedate";const f=document.createElement("select");f.classList.add("task-priority","border","border-gray-300","rounded-md","my-1"),f.placeholder="Add priority",["HIGH","MEDIUM","LOW"].forEach((e=>{const t=document.createElement("option");t.innerText=e,f.options.add(t)}));const v=document.createElement("button");v.classList.add("create-task-btn","bg-green-500","hover:bg-green-700","px-2","py-1","rounded-md","text-white"),v.type="button",v.innerHTML="Create";const C=document.createElement("h6");C.innerText="Enter all form fields",C.style.display="none",C.classList.add("text-red-700","text-xs","error");const S=document.createElement("div");S.classList.add("delete-cont","flex","justify-between","w-3/6","pt-5");const x=document.createElement("button");x.classList.add("clear-btn","bg-red-500","hover:bg-red-700","px-2","py-1","rounded-md","text-white"),x.type="button",x.innerHTML="Clear Completed";const q=document.createElement("button");q.classList.add("add-form","bg-blue-500","hover:bg-blue-700","px-2","py-1","rounded-md","text-white"),q.type="button",q.innerHTML="Add Task";const w=document.createElement("div");w.classList.add("edit-task-creator");const T=document.createElement("form");T.classList.add("task-form-edit","hidden","w-min");const M=document.createElement("input");M.type="text",M.classList.add("task-input-edit","border","border-gray-300","rounded-md","my-1"),M.placeholder="Add title";const I=document.createElement("input");I.type="text",I.classList.add("task-description-edit","border","border-gray-300","rounded-md","my-1"),I.placeholder="Add description";const H=document.createElement("input");H.type="date",H.classList.add("task-duedate-edit","border","border-gray-300","rounded-md","my-1"),H.placeholder="Add duedate";const A=document.createElement("select");A.classList.add("task-priority-edit","border","border-gray-300","rounded-md","my-1"),A.placeholder="Add priority",["HIGH","MEDIUM","LOW"].forEach((e=>{const t=document.createElement("option");t.innerText=e,A.options.add(t)}));const j=document.createElement("button");j.classList.add("edit-task-btn","bg-green-500","hover:bg-green-700","px-2","py-1","rounded-md","text-white"),j.type="button",j.innerHTML="Update";const D=document.createElement("h6");return D.innerText="Enter all form fields",D.style.display="none",D.classList.add("text-red-700","text-xs","error1"),e.appendChild(t),e.appendChild(i),t.appendChild(d),d.appendChild(n),t.appendChild(r),r.appendChild(o),r.appendChild(a),a.appendChild(s),a.appendChild(c),r.appendChild(l),i.appendChild(p),i.appendChild(y),i.appendChild(S),p.appendChild(u),p.appendChild(m),y.appendChild(h),y.appendChild(b),b.appendChild(L),L.appendChild(k),L.appendChild(E),L.appendChild(g),L.appendChild(f),L.appendChild(C),L.appendChild(v),y.appendChild(w),w.appendChild(T),T.appendChild(M),T.appendChild(I),T.appendChild(H),T.appendChild(A),T.appendChild(D),T.appendChild(j),S.appendChild(x),S.appendChild(q),e})());const s=document.getElementById("myModal"),c=document.querySelector(".all-projects"),l=document.querySelector(".pro-input"),i=document.querySelector(".pro-btn"),p=document.querySelector(".btn-delet"),u=document.querySelector(".task-cont"),m=document.querySelector(".task-title"),y=document.querySelector(".tasks-count"),h=document.querySelector(".task-conteiner"),b=document.getElementById("task-template"),L=document.querySelector(".task-form"),k=document.querySelector(".task-input"),E=document.querySelector(".task-description"),g=document.querySelector(".task-duedate"),f=document.querySelector(".task-priority"),v=document.querySelector(".create-task-btn"),C=document.querySelector(".add-form"),S=document.querySelector(".error"),x=document.querySelector(".clear-btn"),q=document.querySelector(".task-form-edit"),w=document.querySelector(".task-input-edit"),T=document.querySelector(".task-description-edit"),M=document.querySelector(".task-duedate-edit"),I=document.querySelector(".task-priority-edit"),H=document.querySelector(".edit-task-btn"),A=(document.querySelector(".error1"),e=>({id:Date.now().toString(),name:e,tasks:[{id:Date.now().toString(),name:"name",description:"description",duedate:"duedate",priority:"priority",complete:!1}]})),j=A("Default");n.includes("Default")||n.push(j);const D=(e,t,d,n)=>({id:Date.now().toString(),name:e,description:t,duedate:d,priority:n,complete:!1}),N=e=>{for(;e.firstChild;)e.removeChild(e.firstChild)},O=()=>{localStorage.setItem(e,JSON.stringify(n)),localStorage.setItem(t,r),localStorage.setItem(d,o)},F=e=>{const t=e.tasks.filter((e=>!e.complete)).length,d=1===t?"task":"tasks";y.innerHTML=`${t} ${d} remaining`},J=()=>{N(c),n.forEach((e=>{const t=document.createElement("li");t.dataset.projId=e.id,t.classList.add("list-proj","cursor-pointer","pb-2","font-medium"),t.innerText=e.name,e.id===r&&t.classList.add("active-pro","font-bold"),c.appendChild(t)}));const e=n.find((e=>e.id===r));null==r?u.style.display="none":(u.style.display="",m.innerHTML=e.name,F(e),N(h),(e=>{e.tasks.forEach((e=>{const t=document.importNode(b.content,!0),d=t.querySelector("input");d.id=e.id,d.checked=e.complete;const o=t.querySelector("label");o.htmlFor=e.id,o.append(e.name);const a=t.querySelector(".description");a.htmlFor=e.id,a.append(e.description);const c=t.querySelector(".duedate");c.htmlFor=e.id,c.append(e.duedate);const l=t.querySelector(".priority");l.htmlFor=e.id,l.append(e.priority);const i=t.querySelector(".edit");i.dataset.taskId=e.id,t.querySelector(".alert"),i.addEventListener("click",(t=>{if(e.complete){w.value=e.name,T.value=e.description,M.value=e.duedate,I.value=e.priority,q.classList.contains("hidden")?(q.classList.remove("hidden"),q.classList.add("block")):(q.classList.remove("block"),q.classList.add("hidden"));const t=n.find((e=>e.id===r));t.tasks=t.tasks.filter((e=>!e.complete))}else s.style.display="block",window.onclick=function(e){e.target==s&&(s.style.display="none")}})),h.appendChild(t)}))})(e))},P=()=>{O(),J()};a.addEventListener("click",(e=>{"li"===e.target.tagName.toLowerCase()&&(r=e.target.dataset.projId,P())})),v.addEventListener("click",(e=>{e.preventDefault();const t=k.value,d=E.value,o=g.value,a=f.value;if(""===t||""===d||""===o||""===a)return void(S.style.display="block");S.style.display="none";const s=D(t,d,o,a);[k,E,g,f].forEach((e=>{e.value=null})),n.find((e=>e.id===r)).tasks.push(s),L.classList.remove("block"),L.classList.add("hidden"),P()})),H.addEventListener("click",(e=>{e.preventDefault();const t=w.value,d=T.value,a=M.value,s=I.value;if(""===t||""===d||""===a||""===s)return void(S.style.display="block");S.style.display="none";const c=D(t,d,a,s);[w,T,M,I].forEach((e=>{e.value=null}));const l=n.find((e=>e.id===r));c.id===o?(l.tasks.splice(),l.tasks.push(c)):l.tasks.push(c),q.classList.remove("block"),q.classList.add("hidden"),P()})),h.addEventListener("click",(e=>{if("input"===e.target.tagName.toLowerCase()){const t=n.find((e=>e.id===r));t.tasks.find((t=>t.id===e.target.id)).complete=e.target.checked,O(),F(t)}})),i.addEventListener("click",(e=>{e.preventDefault();const t=l.value;if(null==t||""===t)return;const d=A(t);l.value=null,n.push(d),P()})),p.addEventListener("click",(e=>{n=n.filter((e=>e.id!==r)),r=null,P()})),x.addEventListener("click",(e=>{const t=n.find((e=>e.id===r));t.tasks=t.tasks.filter((e=>!e.complete)),P()})),C.addEventListener("click",(()=>{L.classList.contains("hidden")?(L.classList.remove("hidden"),L.classList.add("block")):(L.classList.remove("block"),L.classList.add("hidden"))})),J()})();