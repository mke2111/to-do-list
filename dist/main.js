(()=>{"use strict";const e="task.lists",t="task.selectedListId";let n=JSON.parse(localStorage.getItem(e))||[],d=localStorage.getItem(t);const a=document.querySelector("#content");a.appendChild((()=>{const e=document.createElement("div");e.classList.add("header-cont");const t=document.createElement("h1");return t.classList.add("header-title"),t.innerHTML="To Do list Project",e.appendChild(t),e})()),a.appendChild((()=>{const e=document.createElement("div");e.classList.add("body-cont","flex");const t=document.createElement("div");t.classList.add("proj-cont");const n=document.createElement("div");n.classList.add("pro-title-cont");const d=document.createElement("h2");d.classList.add("pro-title"),d.innerHTML="MY PROJECT'S LIST";const a=document.createElement("div");a.classList.add("list-cont");const s=document.createElement("ul");s.classList.add("all-projects");const c=document.createElement("form");c.setAttribute("action",""),c.classList.add("pro-form");const l=document.createElement("input");l.classList.add("pro-input"),l.setAttribute("type","text"),l.setAttribute("placeholder","Add a New Project");const o=document.createElement("button");o.setAttribute("type","button"),o.classList.add("pro-btn"),o.innerHTML="New Project";const i=document.createElement("button");i.setAttribute("type","button"),i.classList.add("btn-delet"),i.innerHTML="Delete project";const r=document.createElement("div");r.classList.add("task-cont");const p=document.createElement("div");p.classList.add("task-title-cont","flex");const u=document.createElement("h2");u.classList.add("task-title"),u.innerHTML="My tasks";const m=document.createElement("p");m.classList.add("tasks-count"),m.innerHTML="1 task remaining";const h=document.createElement("div");h.classList.add("tasks-body");const L=document.createElement("div");L.classList.add("task-conteiner","flex");const C=document.createElement("div");C.classList.add("new-task-creator");const E=document.createElement("form");E.classList.add("task-form");const k=document.createElement("input");k.type="text",k.classList.add("task-input"),k.placeholder="Add a New task";const y=document.createElement("button");y.type="button",y.innerHTML="Create";const v=document.createElement("div");v.classList.add("delete-cont");const b=document.createElement("button");return b.classList.add("clear-btn"),b.type="button",b.innerHTML="Clear Completed Tasks",e.appendChild(t),e.appendChild(r),t.appendChild(n),n.appendChild(d),t.appendChild(a),a.appendChild(s),a.appendChild(c),c.appendChild(l),c.appendChild(o),a.appendChild(i),r.appendChild(p),r.appendChild(h),r.appendChild(v),p.appendChild(u),p.appendChild(m),h.appendChild(L),h.appendChild(C),C.appendChild(E),E.appendChild(k),E.appendChild(y),v.appendChild(b),e})());const s=document.querySelector(".all-projects"),c=document.querySelector(".pro-form"),l=document.querySelector(".pro-input"),o=document.querySelector(".pro-btn"),i=document.querySelector(".btn-delet"),r=document.querySelector(".task-cont"),p=document.querySelector(".task-title"),u=document.querySelector(".tasks-count"),m=document.querySelector(".task-conteiner"),h=document.getElementById("task-template"),L=e=>({id:Date.now().toString(),name:e,tasks:[{id:"qweqwe",name:"asdqwe",complete:!1}]}),C=e=>{for(;e.firstChild;)e.removeChild(e.firstChild)},E=()=>{C(s),k();const e=n.find((e=>e.id===d));null==d?r.style.display="none":(r.style.display="",p.innerHTML=e.name,(e=>{const t=e.tasks.filter((e=>!e.complete)).length,n=1===t?"task":"tasks";u.innerHTML=`${t} ${n} remaining`})(e),C(m),(e=>{e.tasks.forEach((e=>{const t=document.importNode(h.content,!0),n=t.querySelector("input");n.id=e.id,n.checked=e.complete;const d=t.querySelector("label");d.htmlFor=e.id,d.append(e.name),m.appendChild(t)}))})(e))},k=()=>{n.forEach((e=>{const t=document.createElement("li");t.dataset.projId=e.id,t.classList.add("list-proj"),t.innerText=e.name,e.id===d&&t.classList.add("active-pro"),s.appendChild(t)}))},y=()=>{localStorage.setItem(e,JSON.stringify(n)),localStorage.setItem(t,d),E()};a.addEventListener("click",(e=>{"li"===e.target.tagName.toLowerCase()&&(d=e.target.dataset.projId,y())})),c.addEventListener("submit",(e=>{e.preventDefault();const t=l.value;if(null==t||""===t)return;const d=L(t);l.value=null,n.push(d),y()})),o.addEventListener("click",(e=>{e.preventDefault();const t=l.value;if(null==t||""===t)return;const d=L(t);l.value=null,n.push(d),y()})),i.addEventListener("click",(e=>{n=n.filter((e=>e.id!==d)),d=null,y()})),E()})();