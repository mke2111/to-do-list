(()=>{"use strict";const e="task.lists",t="task.selectedListId";let n=JSON.parse(localStorage.getItem(e))||[],d=localStorage.getItem(t);const l=document.querySelector("#content");l.appendChild((()=>{const e=document.createElement("div");e.classList.add("header-cont");const t=document.createElement("h1");return t.classList.add("header-title"),t.innerHTML="To Do list Project",e.appendChild(t),e})()),l.appendChild((()=>{const e=document.createElement("div");e.classList.add("body-cont","flex","w-3/6","mx-auto","pt-24");const t=document.createElement("div");t.classList.add("proj-cont");const n=document.createElement("div");n.classList.add("pro-title-cont");const d=document.createElement("h2");d.classList.add("pro-title"),d.innerHTML="MY PROJECTS";const l=document.createElement("div");l.classList.add("list-cont");const s=document.createElement("ul");s.classList.add("all-projects");const a=document.createElement("form");a.setAttribute("action",""),a.classList.add("pro-form","flex","flex-col");const i=document.createElement("input");i.classList.add("pro-input"),i.setAttribute("type","text"),i.setAttribute("placeholder","Add a New Project");const c=document.createElement("button");c.setAttribute("type","button"),c.classList.add("pro-btn"),c.innerHTML="New Project";const o=document.createElement("button");o.setAttribute("type","button"),o.classList.add("btn-delet"),o.innerHTML="Delete project",e.appendChild(t),t.appendChild(n),n.appendChild(d),t.appendChild(l),l.appendChild(s),l.appendChild(a),a.appendChild(i),a.appendChild(c),l.appendChild(o);const r=document.createElement("div");r.classList.add("task-cont");const u=document.createElement("div");u.classList.add("list-title-cont","flex");const p=document.createElement("h2");p.classList.add("list-title"),p.innerHTML="MY LISTS";const m=document.createElement("p");m.classList.add("list-count"),m.innerHTML="1 task remaining";const h=document.createElement("div");h.classList.add("list-container");const b=document.createElement("div");b.classList.add("all-lists");const L=document.createElement("form");L.setAttribute("action",""),L.classList.add("list-form","hidden","flex-col","border","border-gray-400","rounded-md","p-3");const y=document.createElement("input");y.classList.add("list-title-input","border-b","border-gray-600","pt-2"),y.setAttribute("type","text"),y.setAttribute("placeholder","Add Title");const v=document.createElement("input");v.classList.add("list-description-input","border-b","border-gray-600","pt-2"),v.setAttribute("type","text"),v.setAttribute("placeholder","Add Description");const E=document.createElement("input");E.classList.add("list-due-date-input","border-b","border-gray-600","pt-2"),E.setAttribute("type","date"),E.setAttribute("placeholder","Set Due Date");const C=document.createElement("input");C.classList.add("list-priority-input","border-b","border-gray-600","pt-2"),C.setAttribute("type","text"),C.setAttribute("placeholder","Set Priority");const S=document.createElement("button");S.setAttribute("type","button"),S.classList.add("list-add-btn","w-max","mx-auto","px-2","mt-2","bg-green-400","rounded-md"),S.innerHTML="Create";const f=document.createElement("button");f.setAttribute("type","button"),f.classList.add("btn-new-task","w-max","mx-auto","px-2","mt-2","bg-green-400","rounded-md"),f.innerHTML="New Task";const q=document.createElement("button");q.setAttribute("type","button"),q.classList.add("list-delete-btn","bg-red-400","rounded-md"),q.innerHTML="Delete Completed task";const g=document.createElement("template");g.id="list-template";const x=document.createElement("div");x.classList.add("temp-cont");const A=document.createElement("input");A.classList.add("list-input"),A.type="checkbox";const k=document.createElement("label"),T=document.createElement("span");return T.classList.add("custom-checkbox"),g.appendChild(x),x.appendChild(A),x.appendChild(k),k.appendChild(T),u.appendChild(p),u.appendChild(m),h.appendChild(b),L.appendChild(y),L.appendChild(v),L.appendChild(E),L.appendChild(C),L.appendChild(S),r.appendChild(u),r.appendChild(h),h.appendChild(L),h.appendChild(f),h.appendChild(q),e.appendChild(r),e.appendChild(g),e})());const s=document.querySelector(".all-projects"),a=document.querySelector(".pro-form"),i=document.querySelector(".pro-input"),c=document.querySelector(".pro-btn"),o=document.querySelector(".btn-delet"),r=document.querySelector(".task-cont"),u=document.querySelector(".all-lists"),p=document.querySelector(".list-title"),m=document.querySelector(".list-form"),h=document.querySelector(".list-title-input"),b=document.querySelector(".list-description-input"),L=document.querySelector(".list-due-date-input"),y=document.querySelector(".list-priority-input"),v=(document.querySelector(".list-delete-btn"),document.querySelector("#list-template")),E=(document.querySelector(".list-input"),document.querySelector(".btn-new-task")),C=document.querySelector(".list-count"),S=e=>({id:Date.now().toString(),name:e,lists:[{id:1,title:"sdqweq",description:"aasdqwd",duedate:"adqweqw",priority:"asdqwe",complete:!1}]}),f=e=>{for(;e.firstChild;)e.removeChild(e.firstChild)},q=()=>{f(s),A();const e=n.find((e=>e.id===d));null==d?r.style.display="none":(r.style.display="",p.innerText=e.name,g(e),f(u),x(e))},g=e=>{const t=e.lists.filter((e=>!e.complete)).length,n=1===t?"task":"tasks";C.innerHTML=`${t} ${n} remaining`},x=e=>{e.lists.forEach((e=>{const t=document.importNode(v.content,!0),n=t.querySelector(".list-input");console.log(n),n.id=e.id,n.checked=e.complete;const d=t.querySelector("label");d.htmlFor=e.id,d.append(e.name),u.appendChild(t)}))},A=()=>{n.forEach((e=>{const t=document.createElement("li");t.dataset.projId=e.id,t.classList.add("list-proj"),t.innerText=e.name,e.id===d&&t.classList.add("active-pro"),s.appendChild(t)}))},k=()=>{localStorage.setItem(e,JSON.stringify(n)),localStorage.setItem(t,d),q()};l.addEventListener("click",(e=>{"li"===e.target.tagName.toLowerCase()&&(d=e.target.dataset.projId,k())})),a.addEventListener("submit",(e=>{e.preventDefault();const t=i.value;if(null==t||""===t)return;const d=S(t);i.value=null,n.push(d),k()})),c.addEventListener("click",(e=>{e.preventDefault();const t=i.value;if(null==t||""===t)return;const d=S(t);i.value=null,n.push(d),k()})),o.addEventListener("click",(e=>{n=n.filter((e=>e.id!==d)),d=null,k()})),E.addEventListener("click",(e=>{e.preventDefault(),m.classList.contains("hidden")?(m.classList.remove("hidden"),m.classList.add("flex")):(m.classList.remove("flex"),m.classList.add("hidden"))})),m.addEventListener("click",(e=>{if(e.preventDefault(),null==h.value||""===h.value||null==b.value||""===b.value||null==L.value||""===L.value||null==y.value||""===y.value)return;const t=(l=h.value,s=b.value,a=L.value,i=y.value,{id:Date.now().toString(),title:l,description:s,duedate:a,priority:i,complete:!1});var l,s,a,i;h.value=null,b.value=null,L.value=null,y.value=null,n.find((e=>e.id===d)).lists.push(t),k()})),q()})();