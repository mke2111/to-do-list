(()=>{"use strict";const e="task.lists",t="task.selectedListId";let d=JSON.parse(localStorage.getItem(e))||[],n=localStorage.getItem(t);const a=document.querySelector("#content");a.classList.add("bg-blue-300","h-screen"),a.appendChild((()=>{const e=document.createElement("div");e.classList.add("header-cont");const t=document.createElement("h1");return t.classList.add("header-title"),t.innerHTML="To Do list Project",e.appendChild(t),e})()),a.appendChild((()=>{const e=document.createElement("div");e.classList.add("body-cont","flex","w-4/6","mx-auto","pt-19","mt-12","shadow-2xl","bg-blue-200","rounded-lg","justify-around","border-r-2","border-blue-900");const t=document.createElement("div");t.classList.add("proj-cont","border","border-r-2","border-blue-300","pr-5","w-1/4","p-5");const d=document.createElement("div");d.classList.add("pro-title-cont");const n=document.createElement("h2");n.classList.add("pro-title","border-b-2","w-max","border-gray-500"),n.innerHTML="MY PROJECTS";const a=document.createElement("div");a.classList.add("list-cont");const s=document.createElement("ul");s.classList.add("all-projects","text-red-600");const r=document.createElement("form");r.setAttribute("action",""),r.classList.add("pro-form","flex","flex-col");const o=document.createElement("input");o.classList.add("pro-input"),o.setAttribute("type","text"),o.setAttribute("placeholder","Add a New Project");const c=document.createElement("button");c.setAttribute("type","button"),c.classList.add("pro-btn","bg-green-500","hover:bg-green-700","px-2","py-1","rounded-md","text-white"),c.innerHTML="New Project";const l=document.createElement("button");l.setAttribute("type","button"),l.classList.add("btn-delet","bg-red-500","hover:bg-red-700","px-2","py-1","rounded-md","text-white","mt-3"),l.innerHTML="Delete project";const i=document.createElement("div");i.classList.add("task-cont","w-3/4","p-5");const u=document.createElement("div");u.classList.add("task-title-cont","flex","justify-around","pb-3");const p=document.createElement("h2");p.classList.add("task-title","text-red-600"),p.innerHTML="My tasks";const m=document.createElement("p");m.classList.add("tasks-count"),m.innerHTML="1 task remaining";const h=document.createElement("div");h.classList.add("tasks-body");const b=document.createElement("div");b.classList.add("task-conteiner","text-blue-800");const L=document.createElement("div");L.classList.add("new-task-creator");const y=document.createElement("form");y.classList.add("task-form","hidden","w-min");const k=document.createElement("input");k.type="text",k.classList.add("task-input","border","border-gray-300","rounded-md","my-1"),k.placeholder="Add title";const g=document.createElement("input");g.type="text",g.classList.add("task-description","border","border-gray-300","rounded-md","my-1"),g.placeholder="Add description";const E=document.createElement("input");E.type="date",E.classList.add("task-duedate","border","border-gray-300","rounded-md","my-1"),E.placeholder="Add duedate";const f=document.createElement("input");f.type="text",f.classList.add("task-priority","border","border-gray-300","rounded-md","my-1"),f.placeholder="Add priority";const v=document.createElement("button");v.classList.add("create-task-btn","bg-green-500","hover:bg-green-700","px-2","py-1","rounded-md","text-white"),v.type="button",v.innerHTML="Create";const C=document.createElement("div");C.classList.add("delete-cont","flex","justify-between","w-3/6","pt-5");const x=document.createElement("button");x.classList.add("clear-btn","bg-red-500","hover:bg-red-700","px-2","py-1","rounded-md","text-white"),x.type="button",x.innerHTML="Clear Completed";const S=document.createElement("button");return S.classList.add("add-form","bg-blue-500","hover:bg-blue-700","px-2","py-1","rounded-md","text-white"),S.type="button",S.innerHTML="Add Task",e.appendChild(t),e.appendChild(i),t.appendChild(d),d.appendChild(n),t.appendChild(a),a.appendChild(s),a.appendChild(r),r.appendChild(o),r.appendChild(c),a.appendChild(l),i.appendChild(u),i.appendChild(h),i.appendChild(C),u.appendChild(p),u.appendChild(m),h.appendChild(b),h.appendChild(L),L.appendChild(y),y.appendChild(k),y.appendChild(g),y.appendChild(E),y.appendChild(f),y.appendChild(v),C.appendChild(x),C.appendChild(S),e})());const s=document.querySelector(".all-projects"),r=document.querySelector(".pro-form"),o=document.querySelector(".pro-input"),c=document.querySelector(".pro-btn"),l=document.querySelector(".btn-delet"),i=document.querySelector(".task-cont"),u=document.querySelector(".task-title"),p=document.querySelector(".tasks-count"),m=document.querySelector(".task-conteiner"),h=document.getElementById("task-template"),b=document.querySelector(".task-form"),L=document.querySelector(".task-input"),y=document.querySelector(".create-task-btn"),k=document.querySelector(".add-form"),g=document.querySelector(".clear-btn"),E=e=>({id:Date.now().toString(),name:e,tasks:[{id:"qweqwe",name:"asdqwe",complete:!1}]}),f=e=>{for(;e.firstChild;)e.removeChild(e.firstChild)},v=()=>{localStorage.setItem(e,JSON.stringify(d)),localStorage.setItem(t,n)},C=e=>{const t=e.tasks.filter((e=>!e.complete)).length,d=1===t?"task":"tasks";p.innerHTML=`${t} ${d} remaining`},x=()=>{f(s),S();const e=d.find((e=>e.id===n));null==n?i.style.display="none":(i.style.display="",u.innerHTML=e.name,C(e),f(m),(e=>{e.tasks.forEach((e=>{const t=document.importNode(h.content,!0),d=t.querySelector("input");d.id=e.id,d.checked=e.complete;const n=t.querySelector("label");n.htmlFor=e.id,n.append(e.name),m.appendChild(t)}))})(e))},S=()=>{d.forEach((e=>{const t=document.createElement("li");t.dataset.projId=e.id,t.classList.add("list-proj"),t.innerText=e.name,e.id===n&&t.classList.add("active-pro"),s.appendChild(t)}))},w=()=>{v(),x()};a.addEventListener("click",(e=>{"li"===e.target.tagName.toLowerCase()&&(n=e.target.dataset.projId,w())})),r.addEventListener("submit",(e=>{e.preventDefault();const t=o.value;if(null==t||""===t)return;const n=E(t);o.value=null,d.push(n),w()})),y.addEventListener("click",(e=>{e.preventDefault();const t=L.value;if(null==t||""===t)return;const a=(s=t,{id:Date.now().toString(),name:s,description:undefined,duedate:undefined,priority:undefined,complete:!1});var s;L.value=null,d.find((e=>e.id===n)).tasks.push(a),b.classList.remove("block"),b.classList.add("hidden"),w()})),m.addEventListener("click",(e=>{if("input"===e.target.tagName.toLowerCase()){const t=d.find((e=>e.id===n));t.tasks.find((t=>t.id===e.target.id)).complete=e.target.checked,v(),C(t)}})),c.addEventListener("click",(e=>{e.preventDefault();const t=o.value;if(null==t||""===t)return;const n=E(t);o.value=null,d.push(n),w()})),l.addEventListener("click",(e=>{d=d.filter((e=>e.id!==n)),n=null,w()})),g.addEventListener("click",(e=>{const t=d.find((e=>e.id===n));t.tasks=t.tasks.filter((e=>!e.complete)),w()})),k.addEventListener("click",(()=>{b.classList.contains("hidden")?(b.classList.remove("hidden"),b.classList.add("block")):(b.classList.remove("block"),b.classList.add("hidden"))})),x()})();