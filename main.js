(()=>{"use strict";const e="task.lists",t="task.selectedListId";let n=JSON.parse(localStorage.getItem(e))||[],d=localStorage.getItem(t);const l=document.querySelector("#content");l.appendChild((()=>{const e=document.createElement("div");e.classList.add("header-cont");const t=document.createElement("h1");return t.classList.add("header-title"),t.innerHTML="To Do list Project",e.appendChild(t),e})()),l.appendChild((()=>{const e=document.createElement("div");e.classList.add("body-cont","flex","w-3/6","mx-auto","pt-24");const t=document.createElement("div");t.classList.add("proj-cont");const n=document.createElement("div");n.classList.add("pro-title-cont");const d=document.createElement("h2");d.classList.add("pro-title"),d.innerHTML="MY PROJECTS";const l=document.createElement("div");l.classList.add("list-cont");const i=document.createElement("ul");i.classList.add("all-projects");const c=document.createElement("form");c.setAttribute("action",""),c.classList.add("pro-form","flex","flex-col");const o=document.createElement("input");o.classList.add("pro-input"),o.setAttribute("type","text"),o.setAttribute("placeholder","Add a New Project");const a=document.createElement("button");a.setAttribute("type","button"),a.classList.add("pro-btn"),a.innerHTML="New Project";const s=document.createElement("button");s.setAttribute("type","button"),s.classList.add("btn-delet"),s.innerHTML="Delete project",e.appendChild(t),t.appendChild(n),n.appendChild(d),t.appendChild(l),l.appendChild(i),l.appendChild(c),c.appendChild(o),c.appendChild(a),l.appendChild(s);const r=document.createElement("div");r.classList.add("task-cont");const u=document.createElement("div");u.classList.add("list-title-cont");const p=document.createElement("h2");p.classList.add("list-title"),p.innerHTML="MY LISTS";const m=document.createElement("div");m.classList.add("list-container");const b=document.createElement("ul");b.classList.add("all-lists");const h=document.createElement("form");h.setAttribute("action",""),h.classList.add("list-form","flex","flex-col","border","border-gray-400","rounded-md","p-3");const y=document.createElement("input");y.classList.add("list-title-input","border-b","border-gray-600","pt-2"),y.setAttribute("type","text"),y.setAttribute("placeholder","Add Title");const L=document.createElement("input");L.classList.add("list-description-input","border-b","border-gray-600","pt-2"),L.setAttribute("type","text"),L.setAttribute("placeholder","Add Description");const v=document.createElement("input");v.classList.add("list-due-date-input","border-b","border-gray-600","pt-2"),v.setAttribute("type","text"),v.setAttribute("placeholder","Set Due Date");const E=document.createElement("input");E.classList.add("list-priority-input","border-b","border-gray-600","pt-2"),E.setAttribute("type","text"),E.setAttribute("placeholder","Set Priority");const C=document.createElement("button");C.setAttribute("type","button"),C.classList.add("list-add-btn","w-max","mx-auto","px-2","mt-2","bg-green-400","rounded-md"),C.innerHTML="New List";const S=document.createElement("button");S.setAttribute("type","button"),S.classList.add("list-delete-btn","bg-red-400","rounded-md"),S.innerHTML="Delete List",u.appendChild(p),m.appendChild(b),h.appendChild(y),h.appendChild(L),h.appendChild(v),h.appendChild(E),h.appendChild(C),r.appendChild(u),r.appendChild(m),m.appendChild(h),m.appendChild(S),e.appendChild(r);const f=document.createElement("div");f.id="template";const g=document.createElement("input");g.type="checkbox";const A=document.createElement("label");return f.appendChild(g),f.appendChild(A),e})());const i=document.querySelector(".all-projects"),c=document.querySelector(".pro-form"),o=document.querySelector(".pro-input"),a=document.querySelector(".btn-delet"),s=document.querySelector(".task-cont"),r=document.querySelector(".all-lists"),u=document.querySelector(".list-title"),p=document.querySelector(".list-form"),m=document.querySelector(".list-title-input"),b=document.querySelector(".list-description-input"),h=document.querySelector(".list-due-date-input"),y=document.querySelector(".list-priority-input"),L=(document.querySelector(".list-delete-btn"),document.getElementById("template")),v=e=>{for(;e.firstChild;)e.removeChild(e.firstChild)},E=()=>{v(i),S();const e=n.find((e=>e.id===d));null==d?s.style.display="none":(s.style.display="",u.innerText=e.name,v(r),C(e))},C=e=>{e.lists.forEach((e=>{const t=document.importNode(L.contentEditable,!0),n=t.querySelector("input");n.id=e.id,n.checked=e.complete;const d=t.querySelector("label");d.htmlFor=e.id,d.append(e.name),r.appendChild(t)}))},S=()=>{n.forEach((e=>{const t=document.createElement("li");t.dataset.projId=e.id,t.classList.add("list-proj"),t.innerText=e.name,e.id===d&&t.classList.add("active-pro"),i.appendChild(t)}))},f=()=>{localStorage.setItem(e,JSON.stringify(n)),localStorage.setItem(t,d),E()};l.addEventListener("click",(e=>{"li"===e.target.tagName.toLowerCase()&&(d=e.target.dataset.projId,f())})),c.addEventListener("submit",(e=>{e.preventDefault();const t=o.value;if(null==t||""===t)return;const d=(l=t,{id:Date.now().toString(),name:l,lists:[]});var l;o.value=null,n.push(d),f()})),console.log(a),a.addEventListener("click",(e=>{n=n.filter((e=>e.id!==d)),d=null,f()})),p.addEventListener("click",(e=>{if(e.preventDefault(),null==m.value||""===m.value||null==b.value||""===b.value||null==h.value||""===h.value||null==y.value||""===y.value)return;const t=(l=m.value,i=b.value,c=h.value,o=y.value,{id:Date.now().toString(),title:l,description:i,duedate:c,priority:o,complete:!1});var l,i,c,o;m.value=null,b.value=null,h.value=null,y.value=null,n.find((e=>e.id===d)).lists.push(t),f()})),E()})();