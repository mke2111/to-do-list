(()=>{"use strict";const e="task.lists",t="task.selectedListId";let n=JSON.parse(localStorage.getItem(e))||[],l=localStorage.getItem(t);const d=document.querySelector("#content");d.appendChild((()=>{const e=document.createElement("div");e.classList.add("header-cont");const t=document.createElement("h1");return t.classList.add("header-title"),t.innerHTML="To Do list Project",e.appendChild(t),e})()),d.appendChild((()=>{const e=document.createElement("div");e.classList.add("body-cont","flex","w-3/6","mx-auto","pt-24");const t=document.createElement("div");t.classList.add("proj-cont");const n=document.createElement("div");n.classList.add("pro-title-cont");const l=document.createElement("h2");l.classList.add("pro-title"),l.innerHTML="MY PROJECTS";const d=document.createElement("div");d.classList.add("list-cont");const c=document.createElement("ul");c.classList.add("all-projects");const a=document.createElement("form");a.setAttribute("action",""),a.classList.add("pro-form","flex","flex-col");const i=document.createElement("input");i.classList.add("pro-input"),i.setAttribute("type","text"),i.setAttribute("placeholder","Add a New Project");const o=document.createElement("button");o.setAttribute("type","button"),o.classList.add("pro-btn"),o.innerHTML="New Project";const s=document.createElement("button");s.setAttribute("type","button"),s.classList.add("btn-delet"),s.innerHTML="Delete project",e.appendChild(t),t.appendChild(n),n.appendChild(l),t.appendChild(d),d.appendChild(c),d.appendChild(a),a.appendChild(i),a.appendChild(o),d.appendChild(s);const r=document.createElement("div");r.classList.add("task-cont");const u=document.createElement("div");u.classList.add("list-title-cont");const p=document.createElement("h2");p.classList.add("list-title"),p.innerHTML="MY LISTS";const m=document.createElement("div");m.classList.add("list-container");const b=document.createElement("ul");b.classList.add("all-lists");const h=document.createElement("form");h.setAttribute("action",""),h.classList.add("list-form","flex","flex-col","border","border-gray-400","rounded-md","p-3");const L=document.createElement("input");L.classList.add("list-title-input","border-b","border-gray-600","pt-2"),L.setAttribute("type","text"),L.setAttribute("placeholder","Add Title");const y=document.createElement("input");y.classList.add("list-description-input","border-b","border-gray-600","pt-2"),y.setAttribute("type","text"),y.setAttribute("placeholder","Add Description");const v=document.createElement("input");v.classList.add("list-due-date-input","border-b","border-gray-600","pt-2"),v.setAttribute("type","date"),v.setAttribute("placeholder","Set Due Date");const E=document.createElement("input");E.classList.add("list-priority-input","border-b","border-gray-600","pt-2"),E.setAttribute("type","text"),E.setAttribute("placeholder","Set Priority");const C=document.createElement("button");C.setAttribute("type","button"),C.classList.add("list-add-btn","w-max","mx-auto","px-2","mt-2","bg-green-400","rounded-md"),C.innerHTML="New List";const S=document.createElement("button");S.setAttribute("type","button"),S.classList.add("list-delete-btn","bg-red-400","rounded-md"),S.innerHTML="Delete List",u.appendChild(p),m.appendChild(b),h.appendChild(L),h.appendChild(y),h.appendChild(v),h.appendChild(E),h.appendChild(C),r.appendChild(u),r.appendChild(m),m.appendChild(h),m.appendChild(S),e.appendChild(r);const f=document.createElement("div");f.id="template";const g=document.createElement("input");g.type="checkbox";const A=document.createElement("label"),q=document.createElement("span");return q.classList.add("custom-checkbox"),f.appendChild(g),f.appendChild(A),A.appendChild(q),e})());const c=document.querySelector(".all-projects"),a=document.querySelector(".pro-form"),i=document.querySelector(".pro-input"),o=document.querySelector(".pro-btn"),s=document.querySelector(".btn-delet"),r=document.querySelector(".task-cont"),u=document.querySelector(".all-lists"),p=document.querySelector(".list-title"),m=document.querySelector(".list-form"),b=document.querySelector(".list-title-input"),h=document.querySelector(".list-description-input"),L=document.querySelector(".list-due-date-input"),y=document.querySelector(".list-priority-input"),v=(document.querySelector(".list-delete-btn"),document.getElementById("template")),E=e=>({id:Date.now().toString(),name:e,lists:[]}),C=e=>{for(;e.firstChild;)e.removeChild(e.firstChild)},S=()=>{C(c),g();const e=n.find((e=>e.id===l));null==l?r.style.display="none":(r.style.display="",p.innerText=e.name,C(u),f(e))},f=e=>{e.lists.forEach((e=>{const t=document.importNode(v.contentEditable,!0),n=t.querySelector("input");n.id=e.id,n.checked=e.complete;const l=t.querySelector("label");l.htmlFor=e.id,l.append(e.name),u.appendChild(t)}))},g=()=>{n.forEach((e=>{const t=document.createElement("li");t.dataset.projId=e.id,t.classList.add("list-proj"),t.innerText=e.name,e.id===l&&t.classList.add("active-pro"),c.appendChild(t)}))},A=()=>{localStorage.setItem(e,JSON.stringify(n)),localStorage.setItem(t,l),S()};d.addEventListener("click",(e=>{"li"===e.target.tagName.toLowerCase()&&(l=e.target.dataset.projId,A())})),a.addEventListener("submit",(e=>{e.preventDefault();const t=i.value;if(null==t||""===t)return;const l=E(t);i.value=null,n.push(l),A()})),o.addEventListener("click",(e=>{e.preventDefault();const t=i.value;if(null==t||""===t)return;const l=E(t);i.value=null,n.push(l),A()})),s.addEventListener("click",(e=>{n=n.filter((e=>e.id!==l)),l=null,A()})),m.addEventListener("click",(e=>{if(e.preventDefault(),null==b.value||""===b.value||null==h.value||""===h.value||null==L.value||""===L.value||null==y.value||""===y.value)return;const t=(d=b.value,c=h.value,a=L.value,i=y.value,{id:Date.now().toString(),title:d,description:c,duedate:a,priority:i,complete:!1});var d,c,a,i;b.value=null,h.value=null,L.value=null,y.value=null,n.find((e=>e.id===l)).lists.push(t),A()})),S()})();